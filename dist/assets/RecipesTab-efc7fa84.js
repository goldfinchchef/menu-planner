import{c as X,a as Se,A as De}from"./truck-139681aa.js";import{c as Pe,g as Fe,j as s,r as Ee}from"./index-4baa199c.js";import{C as we,h as Oe,R as Me,i as ze}from"./index-93416efa.js";import{C as qe,R as Ue}from"./utensils-0f69ef6f.js";const $e=X("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),at=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),it=X("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),ot=X("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Be=X("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),We=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Ve=X("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),lt=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),He=X("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Ge=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ke=X("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),Qe=X("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ve=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Te={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(o,c){((d,u)=>{o.exports=u()})(Pe,function d(){var u=typeof self<"u"?self:typeof window<"u"?window:u!==void 0?u:{},x,v=!u.document&&!!u.postMessage,_=u.IS_PAPA_WORKER||!1,n={},O=0,a={};function F(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(t){var r=ue(t);r.chunkSize=parseInt(r.chunkSize),t.step||t.chunk||(r.chunkSize=null),this._handle=new z(r),(this._handle.streamer=this)._config=r}).call(this,e),this.parseChunk=function(t,r){var f=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<f){let S=this._config.newline;S||(p=this._config.quoteChar||'"',S=this._handle.guessLineEndings(t,p)),t=[...t.split(S).slice(f)].join(S)}this.isFirstChunk&&L(this._config.beforeFirstChunk)&&(p=this._config.beforeFirstChunk(t))!==void 0&&(t=p),this.isFirstChunk=!1,this._halted=!1;var f=this._partialLine+t,p=(this._partialLine="",this._handle.parse(f,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(t=p.meta.cursor,f=(this._finished||(this._partialLine=f.substring(t-this._baseIndex),this._baseIndex=t),p&&p.data&&(this._rowCount+=p.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),_)u.postMessage({results:p,workerId:a.WORKER_ID,finished:f});else if(L(this._config.chunk)&&!r){if(this._config.chunk(p,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=p=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(p.data),this._completeResults.errors=this._completeResults.errors.concat(p.errors),this._completeResults.meta=p.meta),this._completed||!f||!L(this._config.complete)||p&&p.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),f||p&&p.meta.paused||this._nextChunk(),p}this._halted=!0},this._sendError=function(t){L(this._config.error)?this._config.error(t):_&&this._config.error&&u.postMessage({workerId:a.WORKER_ID,error:t,finished:!1})}}function H(e){var t;(e=e||{}).chunkSize||(e.chunkSize=a.RemoteChunkSize),F.call(this,e),this._nextChunk=v?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(r){this._input=r,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),v||(t.onload=te(this._chunkLoaded,this),t.onerror=te(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!v),this._config.downloadRequestHeaders){var r,f=this._config.downloadRequestHeaders;for(r in f)t.setRequestHeader(r,f[r])}var p;this._config.chunkSize&&(p=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+p));try{t.send(this._config.downloadRequestBody)}catch(S){this._chunkError(S.message)}v&&t.status===0&&this._chunkError()}},this._chunkLoaded=function(){t.readyState===4&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(r=>(r=r.getResponseHeader("Content-Range"))!==null?parseInt(r.substring(r.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(r){r=t.statusText||r,this._sendError(new Error(r))}}function R(e){(e=e||{}).chunkSize||(e.chunkSize=a.LocalChunkSize),F.call(this,e);var t,r,f=typeof FileReader<"u";this.stream=function(p){this._input=p,r=p.slice||p.webkitSlice||p.mozSlice,f?((t=new FileReader).onload=te(this._chunkLoaded,this),t.onerror=te(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var p=this._input,S=(this._config.chunkSize&&(S=Math.min(this._start+this._config.chunkSize,this._input.size),p=r.call(p,this._start,S)),t.readAsText(p,this._config.encoding));f||this._chunkLoaded({target:{result:S}})},this._chunkLoaded=function(p){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(p.target.result)},this._chunkError=function(){this._sendError(t.error)}}function G(e){var t;F.call(this,e=e||{}),this.stream=function(r){return t=r,this._nextChunk()},this._nextChunk=function(){var r,f;if(!this._finished)return r=this._config.chunkSize,t=r?(f=t.substring(0,r),t.substring(r)):(f=t,""),this._finished=!t,this.parseChunk(f)}}function Z(e){F.call(this,e=e||{});var t=[],r=!0,f=!1;this.pause=function(){F.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){F.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(p){this._input=p,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){f&&t.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):r=!0},this._streamData=te(function(p){try{t.push(typeof p=="string"?p:p.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(S){this._streamError(S)}},this),this._streamError=te(function(p){this._streamCleanUp(),this._sendError(p)},this),this._streamEnd=te(function(){this._streamCleanUp(),f=!0,this._streamData("")},this),this._streamCleanUp=te(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function z(e){var t,r,f,p,S=Math.pow(2,53),M=-S,Y=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,W=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,D=this,P=0,k=0,$=!1,i=!1,h=[],l={data:[],errors:[],meta:{}};function b(y){return e.skipEmptyLines==="greedy"?y.join("").trim()==="":y.length===1&&y[0].length===0}function g(){if(l&&f&&(C("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),f=!1),e.skipEmptyLines&&(l.data=l.data.filter(function(m){return!b(m)})),A()){let m=function(U,B){L(e.transformHeader)&&(U=e.transformHeader(U,B)),h.push(U)};if(l)if(Array.isArray(l.data[0])){for(var y=0;A()&&y<l.data.length;y++)l.data[y].forEach(m);l.data.splice(0,1)}else l.data.forEach(m)}function E(m,U){for(var B=e.header?{}:[],T=0;T<m.length;T++){var I=T,w=m[T],w=((ee,N)=>(q=>(e.dynamicTypingFunction&&e.dynamicTyping[q]===void 0&&(e.dynamicTyping[q]=e.dynamicTypingFunction(q)),(e.dynamicTyping[q]||e.dynamicTyping)===!0))(ee)?N==="true"||N==="TRUE"||N!=="false"&&N!=="FALSE"&&((q=>{if(Y.test(q)&&(q=parseFloat(q),M<q&&q<S))return 1})(N)?parseFloat(N):W.test(N)?new Date(N):N===""?null:N):N)(I=e.header?T>=h.length?"__parsed_extra":h[T]:I,w=e.transform?e.transform(w,I):w);I==="__parsed_extra"?(B[I]=B[I]||[],B[I].push(w)):B[I]=w}return e.header&&(T>h.length?C("FieldMismatch","TooManyFields","Too many fields: expected "+h.length+" fields but parsed "+T,k+U):T<h.length&&C("FieldMismatch","TooFewFields","Too few fields: expected "+h.length+" fields but parsed "+T,k+U)),B}var j;l&&(e.header||e.dynamicTyping||e.transform)&&(j=1,!l.data.length||Array.isArray(l.data[0])?(l.data=l.data.map(E),j=l.data.length):l.data=E(l.data,0),e.header&&l.meta&&(l.meta.fields=h),k+=j)}function A(){return e.header&&h.length===0}function C(y,E,j,m){y={type:y,code:E,message:j},m!==void 0&&(y.row=m),l.errors.push(y)}L(e.step)&&(p=e.step,e.step=function(y){l=y,A()?g():(g(),l.data.length!==0&&(P+=y.data.length,e.preview&&P>e.preview?r.abort():(l.data=l.data[0],p(l,D))))}),this.parse=function(y,E,j){var m=e.quoteChar||'"',m=(e.newline||(e.newline=this.guessLineEndings(y,m)),f=!1,e.delimiter?L(e.delimiter)&&(e.delimiter=e.delimiter(y),l.meta.delimiter=e.delimiter):((m=((U,B,T,I,w)=>{var ee,N,q,oe;w=w||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var de=0;de<w.length;de++){for(var se,me=w[de],Q=0,ne=0,V=0,J=(q=void 0,new ie({comments:I,delimiter:me,newline:B,preview:10}).parse(U)),ae=0;ae<J.data.length;ae++)T&&b(J.data[ae])?V++:(se=J.data[ae].length,ne+=se,q===void 0?q=se:0<se&&(Q+=Math.abs(se-q),q=se));0<J.data.length&&(ne/=J.data.length-V),(N===void 0||Q<=N)&&(oe===void 0||oe<ne)&&1.99<ne&&(N=Q,ee=me,oe=ne)}return{successful:!!(e.delimiter=ee),bestDelimiter:ee}})(y,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=m.bestDelimiter:(f=!0,e.delimiter=a.DefaultDelimiter),l.meta.delimiter=e.delimiter),ue(e));return e.preview&&e.header&&m.preview++,t=y,r=new ie(m),l=r.parse(t,E,j),g(),$?{meta:{paused:!0}}:l||{meta:{paused:!1}}},this.paused=function(){return $},this.pause=function(){$=!0,r.abort(),t=L(e.chunk)?"":t.substring(r.getCharIndex())},this.resume=function(){D.streamer._halted?($=!1,D.streamer.parseChunk(t,!0)):setTimeout(D.resume,3)},this.aborted=function(){return i},this.abort=function(){i=!0,r.abort(),l.meta.aborted=!0,L(e.complete)&&e.complete(l),t=""},this.guessLineEndings=function(U,m){U=U.substring(0,1048576);var m=new RegExp(K(m)+"([^]*?)"+K(m),"gm"),j=(U=U.replace(m,"")).split("\r"),m=U.split(`
`),U=1<m.length&&m[0].length<j[0].length;if(j.length===1||U)return`
`;for(var B=0,T=0;T<j.length;T++)j[T][0]===`
`&&B++;return B>=j.length/2?`\r
`:"\r"}}function K(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ie(e){var t=(e=e||{}).delimiter,r=e.newline,f=e.comments,p=e.step,S=e.preview,M=e.fastMode,Y=null,W=!1,D=e.quoteChar==null?'"':e.quoteChar,P=D;if(e.escapeChar!==void 0&&(P=e.escapeChar),(typeof t!="string"||-1<a.BAD_DELIMITERS.indexOf(t))&&(t=","),f===t)throw new Error("Comment character same as delimiter");f===!0?f="#":(typeof f!="string"||-1<a.BAD_DELIMITERS.indexOf(f))&&(f=!1),r!==`
`&&r!=="\r"&&r!==`\r
`&&(r=`
`);var k=0,$=!1;this.parse=function(i,h,l){if(typeof i!="string")throw new Error("Input must be a string");var b=i.length,g=t.length,A=r.length,C=f.length,y=L(p),E=[],j=[],m=[],U=k=0;if(!i)return Q();if(M||M!==!1&&i.indexOf(D)===-1){for(var B=i.split(r),T=0;T<B.length;T++){if(m=B[T],k+=m.length,T!==B.length-1)k+=r.length;else if(l)return Q();if(!f||m.substring(0,C)!==f){if(y){if(E=[],oe(m.split(t)),ne(),$)return Q()}else oe(m.split(t));if(S&&S<=T)return E=E.slice(0,S),Q(!0)}}return Q()}for(var I=i.indexOf(t,k),w=i.indexOf(r,k),ee=new RegExp(K(P)+K(D),"g"),N=i.indexOf(D,k);;)if(i[k]===D)for(N=k,k++;;){if((N=i.indexOf(D,N+1))===-1)return l||j.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:E.length,index:k}),se();if(N===b-1)return se(i.substring(k,N).replace(ee,D));if(D===P&&i[N+1]===P)N++;else if(D===P||N===0||i[N-1]!==P){I!==-1&&I<N+1&&(I=i.indexOf(t,N+1));var q=de((w=w!==-1&&w<N+1?i.indexOf(r,N+1):w)===-1?I:Math.min(I,w));if(i.substr(N+1+q,g)===t){m.push(i.substring(k,N).replace(ee,D)),i[k=N+1+q+g]!==D&&(N=i.indexOf(D,k)),I=i.indexOf(t,k),w=i.indexOf(r,k);break}if(q=de(w),i.substring(N+1+q,N+1+q+A)===r){if(m.push(i.substring(k,N).replace(ee,D)),me(N+1+q+A),I=i.indexOf(t,k),N=i.indexOf(D,k),y&&(ne(),$))return Q();if(S&&E.length>=S)return Q(!0);break}j.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:E.length,index:k}),N++}}else if(f&&m.length===0&&i.substring(k,k+C)===f){if(w===-1)return Q();k=w+A,w=i.indexOf(r,k),I=i.indexOf(t,k)}else if(I!==-1&&(I<w||w===-1))m.push(i.substring(k,I)),k=I+g,I=i.indexOf(t,k);else{if(w===-1)break;if(m.push(i.substring(k,w)),me(w+A),y&&(ne(),$))return Q();if(S&&E.length>=S)return Q(!0)}return se();function oe(V){E.push(V),U=k}function de(V){var J=0;return J=V!==-1&&(V=i.substring(N+1,V))&&V.trim()===""?V.length:J}function se(V){return l||(V===void 0&&(V=i.substring(k)),m.push(V),k=b,oe(m),y&&ne()),Q()}function me(V){k=V,oe(m),m=[],w=i.indexOf(r,k)}function Q(V){if(e.header&&!h&&E.length&&!W){var J=E[0],ae=Object.create(null),ke=new Set(J);let je=!1;for(let he=0;he<J.length;he++){let re=J[he];if(ae[re=L(e.transformHeader)?e.transformHeader(re,he):re]){let ge,Ne=ae[re];for(;ge=re+"_"+Ne,Ne++,ke.has(ge););ke.add(ge),J[he]=ge,ae[re]++,je=!0,(Y=Y===null?{}:Y)[ge]=re}else ae[re]=1,J[he]=re;ke.add(re)}je&&console.warn("Duplicate headers found and renamed."),W=!0}return{data:E,errors:j,meta:{delimiter:t,linebreak:r,aborted:$,truncated:!!V,cursor:U+(h||0),renamedHeaders:Y}}}function ne(){p(Q()),E=[],j=[]}},this.abort=function(){$=!0},this.getCharIndex=function(){return k}}function pe(e){var t=e.data,r=n[t.workerId],f=!1;if(t.error)r.userError(t.error,t.file);else if(t.results&&t.results.data){var p={abort:function(){f=!0,fe(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ce,resume:ce};if(L(r.userStep)){for(var S=0;S<t.results.data.length&&(r.userStep({data:t.results.data[S],errors:t.results.errors,meta:t.results.meta},p),!f);S++);delete t.results}else L(r.userChunk)&&(r.userChunk(t.results,p,t.file),delete t.results)}t.finished&&!f&&fe(t.workerId,t.results)}function fe(e,t){var r=n[e];L(r.userComplete)&&r.userComplete(t),r.terminate(),delete n[e]}function ce(){throw new Error("Not implemented.")}function ue(e){if(typeof e!="object"||e===null)return e;var t,r=Array.isArray(e)?[]:{};for(t in e)r[t]=ue(e[t]);return r}function te(e,t){return function(){e.apply(t,arguments)}}function L(e){return typeof e=="function"}return a.parse=function(e,t){var r=(t=t||{}).dynamicTyping||!1;if(L(r)&&(t.dynamicTypingFunction=r,r={}),t.dynamicTyping=r,t.transform=!!L(t.transform)&&t.transform,!t.worker||!a.WORKERS_SUPPORTED)return r=null,a.NODE_STREAM_INPUT,typeof e=="string"?(e=(f=>f.charCodeAt(0)!==65279?f:f.slice(1))(e),r=new(t.download?H:G)(t)):e.readable===!0&&L(e.read)&&L(e.on)?r=new Z(t):(u.File&&e instanceof File||e instanceof Object)&&(r=new R(t)),r.stream(e);(r=(()=>{var f;return!!a.WORKERS_SUPPORTED&&(f=(()=>{var p=u.URL||u.webkitURL||null,S=d.toString();return a.BLOB_URL||(a.BLOB_URL=p.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",S,")();"],{type:"text/javascript"})))})(),(f=new u.Worker(f)).onmessage=pe,f.id=O++,n[f.id]=f)})()).userStep=t.step,r.userChunk=t.chunk,r.userComplete=t.complete,r.userError=t.error,t.step=L(t.step),t.chunk=L(t.chunk),t.complete=L(t.complete),t.error=L(t.error),delete t.worker,r.postMessage({input:e,config:t,workerId:r.id})},a.unparse=function(e,t){var r=!1,f=!0,p=",",S=`\r
`,M='"',Y=M+M,W=!1,D=null,P=!1,k=((()=>{if(typeof t=="object"){if(typeof t.delimiter!="string"||a.BAD_DELIMITERS.filter(function(h){return t.delimiter.indexOf(h)!==-1}).length||(p=t.delimiter),typeof t.quotes!="boolean"&&typeof t.quotes!="function"&&!Array.isArray(t.quotes)||(r=t.quotes),typeof t.skipEmptyLines!="boolean"&&typeof t.skipEmptyLines!="string"||(W=t.skipEmptyLines),typeof t.newline=="string"&&(S=t.newline),typeof t.quoteChar=="string"&&(M=t.quoteChar),typeof t.header=="boolean"&&(f=t.header),Array.isArray(t.columns)){if(t.columns.length===0)throw new Error("Option columns is empty");D=t.columns}t.escapeChar!==void 0&&(Y=t.escapeChar+M),t.escapeFormulae instanceof RegExp?P=t.escapeFormulae:typeof t.escapeFormulae=="boolean"&&t.escapeFormulae&&(P=/^[=+\-@\t\r].*$/)}})(),new RegExp(K(M),"g"));if(typeof e=="string"&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return $(null,e,W);if(typeof e[0]=="object")return $(D||Object.keys(e[0]),e,W)}else if(typeof e=="object")return typeof e.data=="string"&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||D),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:typeof e.data[0]=="object"?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||typeof e.data[0]=="object"||(e.data=[e.data])),$(e.fields||[],e.data||[],W);throw new Error("Unable to serialize unrecognized input");function $(h,l,b){var g="",A=(typeof h=="string"&&(h=JSON.parse(h)),typeof l=="string"&&(l=JSON.parse(l)),Array.isArray(h)&&0<h.length),C=!Array.isArray(l[0]);if(A&&f){for(var y=0;y<h.length;y++)0<y&&(g+=p),g+=i(h[y],y);0<l.length&&(g+=S)}for(var E=0;E<l.length;E++){var j=(A?h:l[E]).length,m=!1,U=A?Object.keys(l[E]).length===0:l[E].length===0;if(b&&!A&&(m=b==="greedy"?l[E].join("").trim()==="":l[E].length===1&&l[E][0].length===0),b==="greedy"&&A){for(var B=[],T=0;T<j;T++){var I=C?h[T]:T;B.push(l[E][I])}m=B.join("").trim()===""}if(!m){for(var w=0;w<j;w++){0<w&&!U&&(g+=p);var ee=A&&C?h[w]:w;g+=i(l[E][ee],w)}E<l.length-1&&(!b||0<j&&!U)&&(g+=S)}}return g}function i(h,l){var b,g;return h==null?"":h.constructor===Date?JSON.stringify(h).slice(1,25):(g=!1,P&&typeof h=="string"&&P.test(h)&&(h="'"+h,g=!0),b=h.toString().replace(k,Y),(g=g||r===!0||typeof r=="function"&&r(h,l)||Array.isArray(r)&&r[l]||((A,C)=>{for(var y=0;y<C.length;y++)if(-1<A.indexOf(C[y]))return!0;return!1})(b,a.BAD_DELIMITERS)||-1<b.indexOf(p)||b.charAt(0)===" "||b.charAt(b.length-1)===" ")?M+b+M:b)}},a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!v&&!!u.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=ie,a.ParserHandle=z,a.NetworkStreamer=H,a.FileStreamer=R,a.StringStreamer=G,a.ReadableStreamStreamer=Z,u.jQuery&&((x=u.jQuery).fn.parse=function(e){var t=e.config||{},r=[];return this.each(function(S){if(!(x(this).prop("tagName").toUpperCase()==="INPUT"&&x(this).attr("type").toLowerCase()==="file"&&u.FileReader)||!this.files||this.files.length===0)return!0;for(var M=0;M<this.files.length;M++)r.push({file:this.files[M],inputElem:this,instanceConfig:x.extend({},t)})}),f(),this;function f(){if(r.length===0)L(e.complete)&&e.complete();else{var S,M,Y,W,D=r[0];if(L(e.before)){var P=e.before(D.file,D.inputElem);if(typeof P=="object"){if(P.action==="abort")return S="AbortError",M=D.file,Y=D.inputElem,W=P.reason,void(L(e.error)&&e.error({name:S},M,Y,W));if(P.action==="skip")return void p();typeof P.config=="object"&&(D.instanceConfig=x.extend(D.instanceConfig,P.config))}else if(P==="skip")return void p()}var k=D.instanceConfig.complete;D.instanceConfig.complete=function($){L(k)&&k($,D.file,D.inputElem),p()},a.parse(D.file,D.instanceConfig)}}function p(){r.splice(0,1),f()}}),_&&(u.onmessage=function(e){e=e.data,a.WORKER_ID===void 0&&e&&(a.WORKER_ID=e.workerId),typeof e.input=="string"?u.postMessage({workerId:a.WORKER_ID,results:a.parse(e.input,e.config),finished:!0}):(u.File&&e.input instanceof File||e.input instanceof Object)&&(e=a.parse(e.input,e.config))&&u.postMessage({workerId:a.WORKER_ID,results:e,finished:!0})}),(H.prototype=Object.create(F.prototype)).constructor=H,(R.prototype=Object.create(F.prototype)).constructor=R,(G.prototype=Object.create(G.prototype)).constructor=G,(Z.prototype=Object.create(F.prototype)).constructor=Z,a})})(Te);var Ye=Te.exports;const ye=Fe(Ye);function Ce(o=new Date){const c=new Date(o);c.setHours(0,0,0,0),c.setDate(c.getDate()+3-(c.getDay()+6)%7);const d=new Date(c.getFullYear(),0,4),u=1+Math.round(((c-d)/864e5-3+(d.getDay()+6)%7)/7);return`${c.getFullYear()}-W${String(u).padStart(2,"0")}`}function be(o){const[c,d]=o.split("-W"),u=parseInt(d,10),x=new Date(parseInt(c,10),0,4),v=x.getDay()||7,_=new Date(x);_.setDate(x.getDate()-v+1);const n=new Date(_);return n.setDate(_.getDate()+(u-1)*7),n.toISOString().split("T")[0]}function Re(o){const c=be(o),d=new Date(c+"T12:00:00");return d.setDate(d.getDate()+6),d.toISOString().split("T")[0]}function Je(o){return Ce(new Date(o+"T12:00:00"))}function _e(o){const c=new Date(be(o)+"T12:00:00"),d=new Date(Re(o)+"T12:00:00"),u=c.toLocaleDateString("en-US",{month:"short"}),x=d.toLocaleDateString("en-US",{month:"short"}),v=c.getDate(),_=d.getDate(),n=d.getFullYear();return u===x?`${u} ${v} - ${_}, ${n}`:`${u} ${v} - ${x} ${_}, ${n}`}function Ze(o,c){return Je(o)===c}function ct(o){return{weekId:o,startDate:be(o),endDate:Re(o),status:"draft",createdAt:new Date().toISOString(),lockedAt:null,snapshot:{menu:{},stops:[],subscriptions:{}},kdsStatus:{},readyForDelivery:[],deliveryLog:[],groceryBills:[]}}function Xe(o){if(o.subscriptionId)return o;const c=o.contacts&&o.contacts.length>0?o.contacts.map(d=>({fullName:d.fullName||d.name||"",displayName:d.displayName||"",email:d.email||"",phone:d.phone||"",address:d.address||""})):[{fullName:o.name||"",displayName:"",email:o.email||"",phone:o.phone||"",address:o.address||""}];return{subscriptionId:o.id||Date.now().toString(),displayName:o.displayName||o.name||"",portions:o.portions||o.persons||1,mealsPerWeek:o.mealsPerWeek||0,frequency:o.frequency||"weekly",status:o.status||"active",zone:o.zone||"",deliveryDay:o.deliveryDay||"",pickup:o.pickup||!1,contacts:c}}function et(o,c,d){const u={},x=new Set;c.forEach(n=>{Ze(n.date,o)&&n.approved&&(u[n.clientName]||(u[n.clientName]=[]),u[n.clientName].push({id:n.id,date:n.date,protein:n.protein,veg:n.veg,starch:n.starch,extras:n.extras||[],portions:n.portions}),x.add(n.clientName))});const v=[],_={};return x.forEach(n=>{const O=d.find(R=>R.name===n||R.displayName===n);if(!O)return;const a=Xe(O);if(_[n]=a,a.pickup)return;const F=a.contacts||[],H={};F.forEach((R,G)=>{if(!R.address)return;const Z=R.address.toLowerCase().trim();H[Z]||(H[Z]={address:R.address,contacts:[],zone:a.zone}),H[Z].contacts.push({fullName:R.fullName,displayName:R.displayName,phone:R.phone,email:R.email})}),Object.values(H).forEach((R,G)=>{v.push({subscriptionId:a.subscriptionId,clientName:n,displayName:a.displayName,portions:a.portions,zone:R.zone,deliveryDay:a.deliveryDay,address:R.address,contacts:R.contacts,stopIndex:G})})}),{menu:u,stops:v,subscriptions:_}}function ut(o,c,d){const u=et(o.weekId,c,d);return{...o,status:"locked",lockedAt:new Date().toISOString(),snapshot:u}}function dt(o){return{...o,status:"draft",unlockedAt:new Date().toISOString()}}function Le(o,c=1){const d=new Date(be(o)+"T12:00:00");return d.setDate(d.getDate()+c*7),Ce(d)}function ht({selectedWeekId:o,setSelectedWeekId:c,weeks:d={},compact:u=!1,onLockWeek:x,onUnlockWeek:v}){const _=Ce(),n=d[o],O=(n==null?void 0:n.status)==="locked",a=()=>{c(Le(o,-1))},F=()=>{c(Le(o,1))},H=()=>{c(_)},R=()=>{O&&v?v(o):!O&&x&&x(o)},G=[],Z=Object.keys(d).sort().reverse();return Z.includes(_)||G.push({id:_,label:`${_e(_)} (Current)`,isCurrent:!0}),Z.forEach(z=>{const K=d[z],ie=z===_,pe=(K==null?void 0:K.status)==="locked"?" [Locked]":"";G.push({id:z,label:`${_e(z)}${ie?" (Current)":""}${pe}`,isCurrent:ie,isLocked:(K==null?void 0:K.status)==="locked"})}),G.sort((z,K)=>K.id.localeCompare(z.id)),u?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:a,className:"p-1 rounded hover:bg-gray-100",title:"Previous week",children:s.jsx(we,{size:20})}),s.jsx("select",{value:o,onChange:z=>c(z.target.value),className:"p-2 border-2 rounded-lg text-sm",style:{borderColor:"#ebb582"},children:G.map(z=>s.jsx("option",{value:z.id,children:z.label},z.id))}),s.jsx("button",{onClick:F,className:"p-1 rounded hover:bg-gray-100",title:"Next week",children:s.jsx(Oe,{size:20})}),o!==_&&s.jsx("button",{onClick:H,className:"text-xs px-2 py-1 rounded bg-blue-100 text-blue-700",children:"Today"})]}):s.jsx("div",{className:"bg-white rounded-lg shadow-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Previous week",children:s.jsx(we,{size:24})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qe,{size:20,style:{color:"#3d59ab"}}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg",style:{color:"#3d59ab"},children:_e(o)}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-gray-500",children:o}),o===_&&s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-green-100 text-green-700",children:"Current Week"})]})]})]}),s.jsx("button",{onClick:F,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Next week",children:s.jsx(Oe,{size:24})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[o!==_&&s.jsx("button",{onClick:H,className:"px-4 py-2 rounded-lg text-sm font-medium",style:{backgroundColor:"#3d59ab",color:"white"},children:"Go to Current Week"}),(x||v)&&s.jsx("button",{onClick:R,className:`px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors ${O?"bg-amber-100 text-amber-700 hover:bg-amber-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:O?s.jsxs(s.Fragment,{children:[s.jsx(We,{size:16}),"Locked"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ke,{size:16}),"Unlocked"]})}),s.jsx("select",{value:o,onChange:z=>c(z.target.value),className:"p-2 border-2 rounded-lg",style:{borderColor:"#ebb582"},children:G.map(z=>s.jsx("option",{value:z.id,children:z.label},z.id))})]})]})})}const Ae=o=>o.toLowerCase().trim().replace(/s$/,"").replace(/es$/,"").replace(/ies$/,"y").replace(/[^a-z0-9]/g,""),pt=(o,c)=>{const d=Ae(o),u=Ae(c);if(d===u)return 1;if(d.includes(u)||u.includes(d))return .9;const x=d.length>u.length?d:u;if(d.length>u.length,x.length===0)return 1;const v=[];for(let _=0;_<=d.length;_++){let n=_;for(let O=0;O<=u.length;O++)if(_===0)v[O]=O;else if(O>0){let a=v[O-1];d.charAt(_-1)!==u.charAt(O-1)&&(a=Math.min(Math.min(a,n),v[O])+1),v[O-1]=n,n=a}_>0&&(v[u.length]=n)}return(x.length-v[u.length])/x.length},Ie=(o,c)=>{const d=new Blob([o],{type:"text/csv"}),u=URL.createObjectURL(d),x=document.createElement("a");x.href=u,x.download=c,x.click(),URL.revokeObjectURL(u)},ft=o=>{const c=o.toLowerCase();return["lettuce","cucumber","tomato","onion","garlic","carrot","potato","cauliflower","broccoli","spinach","pepper","celery","mushroom","zucchini","squash","asparagus","lemon","lime","ginger","cilantro","parsley"].some(d=>c.includes(d))?"Produce":["chicken","beef","pork","salmon","fish","shrimp","turkey","lamb","bacon","sausage","steak","thigh","breast"].some(d=>c.includes(d))?"Meat & Seafood":["milk","cheese","butter","egg","cream","yogurt"].some(d=>c.includes(d))?"Dairy & Eggs":["salt","pepper","spice","cumin","paprika","oregano","thyme","cinnamon","cayenne","curry"].some(d=>c.includes(d))?"Spices & Seasonings":["rice","pasta","flour","sugar","oil","vinegar","sauce","honey","bread","stock","broth"].some(d=>c.includes(d))?"Pantry & Dry Goods":"Other"},mt=o=>{Ie(ye.unparse(o.map(c=>({name:c.name,cost:c.cost,unit:c.unit,source:c.source,section:c.section})),{columns:["name","cost","unit","source","section"]}),"ingredients.csv")},gt=o=>{const c=[];Object.entries(o).forEach(([d,u])=>{u.forEach(x=>{var v;((v=x.ingredients)==null?void 0:v.length)>0?x.ingredients.forEach(_=>{c.push({"Recipe Name":x.name,Category:d,Instructions:x.instructions||"",Ingredient:_.name,"Portion Size (oz)":_.quantity,cost:_.cost||"",source:_.source||"",section:_.section||"Other"})}):c.push({"Recipe Name":x.name,Category:d,Instructions:x.instructions||"",Ingredient:"","Portion Size (oz)":"",cost:"",source:"",section:""})})}),Ie(ye.unparse(c,{columns:["Recipe Name","Category","Instructions","Ingredient","Portion Size (oz)","cost","source","section"]}),"recipes.csv")},le=o=>o===!0||o==="true"||o==="yes"||o==="Yes"||o==="YES"||o==="1",xe=o=>{if(!o)return 0;const c=String(o).replace(/[$,]/g,"").trim();return parseFloat(c)||0},yt=(o,c,d)=>{ye.parse(o,{header:!0,skipEmptyLines:!0,complete:u=>{const x=u.meta.fields||[],v=x.includes("subscriptionId")||x.includes("subscriptionDisplayName");if(x.includes("Name")||x.includes("name"),x.includes("Display Name")||x.includes("displayName"),v){const _={};let n=null;u.data.forEach(a=>{if(a.subscriptionId||a.subscriptionDisplayName){const F=a.subscriptionId||Date.now().toString()+Math.random();n={subscriptionId:F,displayName:a.subscriptionDisplayName||"",portions:parseInt(a.portions)||1,mealsPerWeek:parseInt(a.mealsPerWeek)||0,frequency:(a.frequency||"weekly").toLowerCase(),status:(a.status||"active").toLowerCase(),zone:(a.zone||"").toUpperCase(),deliveryDay:a.deliveryDay||"",pickup:le(a.pickup),planPrice:xe(a.planPrice),serviceFee:xe(a.serviceFee),prepayDiscount:le(a.prepayDiscount),newClientFeePaid:le(a.newClientFeePaid),paysOwnGroceries:le(a.paysOwnGroceries),billingNotes:a.billingNotes||"",accessCode:a.accessCode||"",honeyBookLink:a.honeyBookLink||"",contacts:[]},_[F]=n}n&&(a.contactFullName||a.email||a.address)&&n.contacts.push({fullName:a.contactFullName||"",displayName:a.contactDisplayName||"",email:a.email||"",phone:a.phone||"",address:a.address||""})});const O=Object.values(_).filter(a=>a.displayName||a.contacts.length>0);c(O)}else{const _=u.data.filter(n=>n.Name||n.name||n["Display Name"]||n.displayName).map(n=>{const O=n.Name||n.name||"",a=n["Display Name"]||n.displayName||O,F=parseInt(n.Portions||n.portions||n.persons)||1,H=parseInt(n.Meals||n.mealsPerWeek||n.meals)||0,R=(n.zone||n.Zone||"").toUpperCase();return{subscriptionId:Date.now().toString()+Math.random(),displayName:a,name:O,portions:F,mealsPerWeek:H,frequency:(n.frequency||n.Frequency||"weekly").toLowerCase(),status:(n.status||n.Status||"active").toLowerCase(),zone:R==="UNASSIGNED"?"":R,deliveryDay:n.deliveryDay||n.DeliveryDay||"",pickup:le(n.pickup||n.Pickup),planPrice:xe(n.planPrice||n.PlanPrice),serviceFee:xe(n.serviceFee||n.ServiceFee),prepayDiscount:le(n.prepayDiscount||n.PrepayDiscount),newClientFeePaid:le(n.newClientFeePaid||n.NewClientFeePaid),paysOwnGroceries:le(n.paysOwnGroceries||n.PaysOwnGroceries),billingNotes:n.billingNotes||n.BillingNotes||n.notes||"",accessCode:n.accessCode||n.AccessCode||"",honeyBookLink:n.honeyBookLink||n.HoneyBookLink||"",contacts:[{fullName:O,displayName:"",email:n.Email||n.email||"",phone:n.Phone||n.phone||"",address:n.Address||n.address||""}]}});c(_)}},error:d})},xt=(o,c,d)=>{ye.parse(o,{header:!0,complete:u=>{const x=u.data.filter(v=>v.name).map(v=>({id:Date.now()+Math.random(),name:v.name||"",cost:v.cost||"",unit:v.unit||"oz",source:v.source||"",section:v.section||"Other"}));c(x)},error:d})},bt=(o,c,d)=>{ye.parse(o,{header:!0,complete:u=>{const x={protein:[],veg:[],starch:[],sauces:[],breakfast:[],soups:[]},v={},_=[];u.data.forEach(n=>{if(!n["Recipe Name"])return;const O=n["Recipe Name"],a=(n.Category||"protein").toLowerCase();if(v[O]||(v[O]={name:O,category:a,instructions:n.Instructions||"",ingredients:[]}),n.Ingredient){const F={name:n.Ingredient,quantity:n["Portion Size (oz)"]||"",unit:"oz",cost:n.cost||"",source:n.source||"",section:n.section||"Other"};v[O].ingredients.push(F),_.push(F)}}),Object.values(v).forEach(n=>{x[n.category]&&x[n.category].push({name:n.name,instructions:n.instructions,ingredients:n.ingredients})}),c(x,_)},error:d})};function kt({recipes:o,newRecipe:c,setNewRecipe:d,editingRecipe:u,setEditingRecipe:x,masterIngredients:v,recipesFileRef:_,findExactMatch:n,findSimilarIngredients:O,getRecipeCost:a,getRecipeCounts:F,saveRecipe:H,deleteRecipe:R,startEditingRecipe:G,saveEditingRecipe:Z,updateEditingIngredient:z,addEditingIngredient:K,removeEditingIngredient:ie,exportRecipesCSV:pe,getUniqueVendors:fe,updateMasterIngredientCost:ce,syncRecipeIngredientsFromMaster:ue}){const[te,L]=Ee.useState({}),[e,t]=Ee.useState({}),r=F(),f=fe?fe():[],p=i=>{var b;const h=!i.instructions||i.instructions.trim()==="",l=(b=i.ingredients)==null?void 0:b.some(g=>!g.cost||g.cost===""||parseFloat(g.cost)===0);return h||l},M=(()=>{let i=0;return Object.values(o).forEach(h=>{h.forEach(l=>{p(l)&&i++})}),i})(),Y=()=>d({...c,ingredients:[...c.ingredients,{name:"",quantity:"",unit:"oz",cost:"",source:"",section:"Other"}]}),W=(i,h,l)=>{const b=[...c.ingredients];if(b[i][h]=l,h==="name"&&l.length>2){const g=n(l);g&&(b[i]={...b[i],name:l,cost:g.cost||b[i].cost,source:g.source||b[i].source,section:g.section||b[i].section,unit:g.unit||b[i].unit})}h==="cost"&&l&&b[i].name&&ce&&ce(b[i].name,l),d({...c,ingredients:b})},D=i=>d({...c,ingredients:c.ingredients.filter((h,l)=>l!==i)}),P=(i,h)=>{const l=[...c.ingredients];l[i]={...l[i],name:h.name,cost:h.cost,source:h.source,section:h.section,unit:h.unit},d({...c,ingredients:l})},k=()=>{if(!ue)return;const i=ue();alert(`Sync complete!

${i.ingredientsAdded} ingredient(s) added to master list
${i.costsUpdated} cost(s) updated from master`)},$=({value:i,onChange:h,index:l,isEditing:b=!1})=>{const g=b?e[l]:te[l],A=b?C=>t(y=>({...y,[l]:C})):C=>L(y=>({...y,[l]:C}));return g?s.jsxs("div",{className:"flex gap-1",children:[s.jsx("input",{type:"text",value:i,onChange:C=>h(C.target.value),placeholder:"New vendor",className:b?"w-16 p-1 border rounded text-sm":"w-20 p-2 border-2 rounded-lg",style:b?{}:{borderColor:"#ebb582"},autoFocus:!0}),s.jsx("button",{onClick:()=>A(!1),className:"text-gray-500 hover:text-gray-700",type:"button",children:s.jsx(ve,{size:b?14:16})})]}):s.jsxs("select",{value:f.includes(i)?i:"",onChange:C=>{C.target.value==="__new__"?(A(!0),h("")):h(C.target.value)},className:b?"w-20 p-1 border rounded text-sm":"w-24 p-2 border-2 rounded-lg",style:b?{}:{borderColor:"#ebb582"},children:[s.jsx("option",{value:"",children:"Vendor"}),f.map(C=>s.jsx("option",{value:C,children:C},C)),s.jsx("option",{value:"__new__",children:"+ Add new..."})]})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",style:{color:"#3d59ab"},children:"Recipes"}),s.jsxs("p",{className:"text-sm",children:[M>0?s.jsxs("span",{className:"text-amber-600 font-medium",children:[s.jsx(De,{size:14,className:"inline mr-1"}),M," recipe",M!==1?"s":""," incomplete"]}):s.jsxs("span",{className:"text-green-600 font-medium",children:[s.jsx(Se,{size:14,className:"inline mr-1"}),"All recipes complete"]}),s.jsxs("span",{className:"text-gray-500 ml-2",children:["(",r.total," total)"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[ue&&s.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 rounded-lg border-2 border-green-500 text-green-600 hover:bg-green-50",children:[s.jsx(Ue,{size:18}),"Sync Ingredients"]}),s.jsxs("button",{onClick:()=>_.current.click(),className:"flex items-center gap-2 px-4 py-2 rounded-lg border-2",style:{borderColor:"#3d59ab",color:"#3d59ab"},children:[s.jsx(Qe,{size:18}),"Import"]}),s.jsxs("button",{onClick:pe,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-white",style:{backgroundColor:"#3d59ab"},children:[s.jsx(Be,{size:18}),"Export"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("select",{value:c.category,onChange:i=>d({...c,category:i.target.value}),className:"p-2 border-2 rounded-lg",style:{borderColor:"#ebb582"},children:Me.map(i=>s.jsx("option",{value:i,children:i.charAt(0).toUpperCase()+i.slice(1)},i))}),s.jsx("input",{type:"text",value:c.name,onChange:i=>d({...c,name:i.target.value}),placeholder:"Recipe name",className:"p-2 border-2 rounded-lg",style:{borderColor:"#ebb582"}})]}),s.jsx("textarea",{value:c.instructions,onChange:i=>d({...c,instructions:i.target.value}),placeholder:"Cooking instructions...",className:"w-full p-2 border-2 rounded-lg",style:{borderColor:"#ebb582"},rows:"2"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#423d3c"},children:"Ingredients"}),c.ingredients.map((i,h)=>{const l=i.name.length>2?n(i.name):null,b=i.name.length>2&&!l?O(i.name):[];return s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 p-2 rounded",style:{backgroundColor:"#f9f9ed"},children:[s.jsx("input",{type:"text",value:i.name,onChange:g=>W(h,"name",g.target.value),placeholder:"Ingredient",className:"flex-1 min-w-[120px] p-2 border-2 rounded-lg",style:{borderColor:"#ebb582"},list:`ing-${h}`}),s.jsx("datalist",{id:`ing-${h}`,children:v.map((g,A)=>s.jsx("option",{value:g.name},A))}),s.jsx("input",{type:"text",value:i.quantity,onChange:g=>W(h,"quantity",g.target.value),placeholder:"Oz",className:"w-16 p-2 border-2 rounded-lg",style:{borderColor:"#ebb582"}}),s.jsx("input",{type:"text",value:i.cost,onChange:g=>W(h,"cost",g.target.value),placeholder:"$",className:"w-16 p-2 border-2 rounded-lg",style:{borderColor:"#ebb582"}}),s.jsx($,{value:i.source,onChange:g=>W(h,"source",g),index:h}),s.jsx("select",{value:i.section,onChange:g=>W(h,"section",g.target.value),className:"w-28 p-2 border-2 rounded-lg",style:{borderColor:"#ebb582"},children:ze.map(g=>s.jsx("option",{value:g,children:g},g))}),c.ingredients.length>1&&s.jsx("button",{onClick:()=>D(h),className:"text-red-600 p-2",children:s.jsx(ve,{size:20})})]}),l&&s.jsxs("button",{onClick:()=>P(h,l),className:"mt-1 text-xs px-2 py-1 rounded bg-green-100 text-green-700",children:['Auto-fill "',l.name,'"']}),b.length>0&&s.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[s.jsxs("span",{className:"text-xs text-orange-600",children:[s.jsx($e,{size:12,className:"inline"})," Similar:"]}),b.slice(0,3).map((g,A)=>s.jsxs("button",{onClick:()=>P(h,g),className:"text-xs px-2 py-1 rounded bg-orange-100 text-orange-700",children:['"',g.name,'"']},A))]})]},h)}),s.jsx("button",{onClick:Y,className:"text-sm px-3 py-1 rounded",style:{backgroundColor:"#ebb582"},children:"+ Add Ingredient"})]}),s.jsxs("button",{onClick:H,className:"px-6 py-2 rounded-lg text-white",style:{backgroundColor:"#3d59ab"},children:[s.jsx(He,{size:20,className:"inline mr-2"}),"Save Recipe"]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:"#3d59ab"},children:"Recipe Library"}),Object.entries(o).map(([i,h])=>h.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-lg font-bold capitalize mb-2",style:{color:"#ebb582"},children:[i," (",h.length,")"]}),s.jsx("div",{className:"space-y-2",children:h.map((l,b)=>{var A;const g=a(l);return s.jsx("div",{children:(u==null?void 0:u.category)===i&&(u==null?void 0:u.index)===b?s.jsxs("div",{className:"p-4 rounded-lg border-2",style:{borderColor:"#3d59ab",backgroundColor:"#f9f9ed"},children:[s.jsx("input",{type:"text",value:u.recipe.name,onChange:C=>x({...u,recipe:{...u.recipe,name:C.target.value}}),className:"w-full p-2 border-2 rounded-lg mb-2 font-bold",style:{borderColor:"#ebb582"}}),s.jsx("textarea",{value:u.recipe.instructions,onChange:C=>x({...u,recipe:{...u.recipe,instructions:C.target.value}}),placeholder:"Instructions...",className:"w-full p-2 border-2 rounded-lg mb-2",style:{borderColor:"#ebb582"},rows:"2"}),s.jsx("p",{className:"text-sm font-medium mb-2",children:"Ingredients:"}),u.recipe.ingredients.map((C,y)=>{const E=C.name.length>2?n(C.name):null;return s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("input",{type:"text",value:C.name,onChange:j=>{z(y,"name",j.target.value);const m=j.target.value.length>2?n(j.target.value):null;m&&setTimeout(()=>{m.cost&&z(y,"cost",m.cost),m.source&&z(y,"source",m.source),m.section&&z(y,"section",m.section),m.unit&&z(y,"unit",m.unit)},0)},placeholder:"Name",className:"flex-1 min-w-[100px] p-1 border rounded text-sm",list:`edit-ing-${y}`}),s.jsx("datalist",{id:`edit-ing-${y}`,children:v.map((j,m)=>s.jsx("option",{value:j.name},m))}),s.jsx("input",{type:"text",value:C.quantity,onChange:j=>z(y,"quantity",j.target.value),placeholder:"Oz",className:"w-12 p-1 border rounded text-sm"}),s.jsx("input",{type:"text",value:C.cost,onChange:j=>{z(y,"cost",j.target.value),j.target.value&&C.name&&ce&&ce(C.name,j.target.value)},placeholder:"$",className:"w-12 p-1 border rounded text-sm"}),s.jsx($,{value:C.source,onChange:j=>z(y,"source",j),index:y,isEditing:!0}),s.jsx("select",{value:C.section,onChange:j=>z(y,"section",j.target.value),className:"w-24 p-1 border rounded text-sm",children:ze.map(j=>s.jsx("option",{value:j,children:j},j))}),s.jsx("button",{onClick:()=>ie(y),className:"text-red-600",children:s.jsx(ve,{size:16})})]}),E&&s.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Master: $",E.cost||"?","/",E.unit," • ",E.source||"No vendor"," • ",E.section]})]},y)}),s.jsx("button",{onClick:K,className:"text-sm px-2 py-1 rounded mb-2",style:{backgroundColor:"#ebb582"},children:"+ Add"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs("button",{onClick:Z,className:"flex items-center gap-1 px-3 py-1 rounded text-white text-sm",style:{backgroundColor:"#3d59ab"},children:[s.jsx(Se,{size:16}),"Save"]}),s.jsx("button",{onClick:()=>x(null),className:"px-3 py-1 rounded bg-gray-200 text-sm",children:"Cancel"})]})]}):s.jsxs("div",{className:"flex justify-between items-start p-3 rounded-lg",style:{backgroundColor:"#f9f9ed"},children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[p(l)&&s.jsx(De,{size:16,className:"text-amber-500",title:"Missing costs or instructions"}),s.jsx("p",{className:"font-medium",children:l.name}),g>0&&s.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-green-100 text-green-700",children:["$",g.toFixed(2),"/portion"]})]}),s.jsx("p",{className:"text-sm text-gray-600",children:(A=l.ingredients)==null?void 0:A.map(C=>`${C.name} (${C.quantity}oz)`).join(", ")}),l.instructions&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l.instructions})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>G(i,b),className:"text-blue-600",children:s.jsx(Ve,{size:18})}),s.jsx("button",{onClick:()=>R(i,b),className:"text-red-600",children:s.jsx(Ge,{size:18})})]})]})},b)})})]},i)),Object.values(o).flat().length===0&&s.jsx("p",{className:"text-gray-500",children:"No recipes yet."})]})]})}export{$e as A,ot as C,Be as D,lt as P,kt as R,He as S,Ge as T,Qe as U,ht as W,ve as X,it as a,at as b,ct as c,Ve as d,gt as e,xt as f,Ce as g,bt as h,Je as i,ft as j,Ie as k,ut as l,ye as m,Ae as n,mt as o,yt as p,pt as s,dt as u};
